{
	"info": {
		"_postman_id": "vitalwatch-api-collection-2026",
		"name": "VitalWatch - Sistema de Alertas M√©dicas API",
		"description": "Colecci√≥n completa de endpoints para el sistema VitalWatch desplegado en Azure.\n\n**Backend URL:** https://vitalwatch-backend.graycoast-fc35a2d0.southcentralus.azurecontainerapps.io\n**Base de Datos:** Oracle Cloud Autonomous Database (s58onuxcx4c1qxe9)\n**Regi√≥n:** Santiago, Chile (sa-santiago-1)\n\n## Configuraci√≥n Inicial\n\n1. Importar esta colecci√≥n en Postman\n2. Configurar las variables de entorno (base_url, api_version)\n3. Ejecutar el endpoint de Login para obtener el token\n4. El token se guardar√° autom√°ticamente y se usar√° en las siguientes peticiones\n\n## Autenticaci√≥n\n\nTodos los endpoints (excepto auth/login, auth/credentials y health) requieren:\n```\nAuthorization: Bearer {{token}}\n```\n\n## Usuarios de Prueba\n\n- **Admin:** admin@vitalwatch.com / Admin123!\n- **M√©dico:** medico@vitalwatch.com / Medico123!\n- **Enfermera:** enfermera@vitalwatch.com / Enfermera123!",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "1. Autenticaci√≥n",
			"item": [
				{
					"name": "Login - Admin",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response has token\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.data.token).to.exist;",
									"    ",
									"    // Guardar el token autom√°ticamente",
									"    pm.environment.set(\"token\", jsonData.data.token);",
									"    pm.environment.set(\"user_id\", jsonData.data.id);",
									"    pm.environment.set(\"user_nombre\", jsonData.data.nombre);",
									"    pm.environment.set(\"user_rol\", jsonData.data.rol);",
									"});",
									"",
									"pm.test(\"Response has user data\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.data.nombre).to.exist;",
									"    pm.expect(jsonData.data.email).to.exist;",
									"    pm.expect(jsonData.data.rol).to.exist;",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"admin@vitalwatch.com\",\n  \"password\": \"Admin123!\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/{{api_version}}/auth/login",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"{{api_version}}",
								"auth",
								"login"
							]
						},
						"description": "Autentica un usuario administrador y devuelve un token de acceso.\n\n**Credenciales Admin:**\n- Email: admin@vitalwatch.com\n- Password: Admin123!\n\nEl token se guarda autom√°ticamente en las variables de entorno."
					},
					"response": []
				},
				{
					"name": "Login - M√©dico",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"var jsonData = pm.response.json();",
									"if (jsonData.data && jsonData.data.token) {",
									"    pm.environment.set(\"token\", jsonData.data.token);",
									"    pm.environment.set(\"user_id\", jsonData.data.id);",
									"    pm.environment.set(\"user_nombre\", jsonData.data.nombre);",
									"    pm.environment.set(\"user_rol\", jsonData.data.rol);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"medico@vitalwatch.com\",\n  \"password\": \"Medico123!\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/{{api_version}}/auth/login",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"{{api_version}}",
								"auth",
								"login"
							]
						},
						"description": "Autentica un usuario m√©dico.\n\n**Credenciales M√©dico:**\n- Email: medico@vitalwatch.com\n- Password: Medico123!"
					},
					"response": []
				},
				{
					"name": "Login - Enfermera",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"var jsonData = pm.response.json();",
									"if (jsonData.data && jsonData.data.token) {",
									"    pm.environment.set(\"token\", jsonData.data.token);",
									"    pm.environment.set(\"user_id\", jsonData.data.id);",
									"    pm.environment.set(\"user_nombre\", jsonData.data.nombre);",
									"    pm.environment.set(\"user_rol\", jsonData.data.rol);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"enfermera@vitalwatch.com\",\n  \"password\": \"Enfermera123!\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/{{api_version}}/auth/login",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"{{api_version}}",
								"auth",
								"login"
							]
						},
						"description": "Autentica un usuario enfermera.\n\n**Credenciales Enfermera:**\n- Email: enfermera@vitalwatch.com\n- Password: Enfermera123!"
					},
					"response": []
				},
				{
					"name": "Verificar Autenticaci√≥n",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/{{api_version}}/auth/check",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"{{api_version}}",
								"auth",
								"check"
							]
						},
						"description": "Verifica si el usuario est√° autenticado y el token es v√°lido."
					},
					"response": []
				},
				{
					"name": "Obtener Credenciales de Prueba",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/{{api_version}}/auth/credentials",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"{{api_version}}",
								"auth",
								"credentials"
							]
						},
						"description": "Devuelve las credenciales de usuarios de prueba disponibles.\n\nEndpoint p√∫blico, no requiere autenticaci√≥n."
					},
					"response": []
				}
			],
			"description": "Endpoints para autenticaci√≥n de usuarios.\n\nDespu√©s de hacer login exitoso, el token se guarda autom√°ticamente y se usa en las siguientes peticiones."
		},
		{
			"name": "2. Health Checks",
			"item": [
				{
					"name": "Health Check General",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/{{api_version}}/health",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"{{api_version}}",
								"health"
							]
						},
						"description": "Verifica el estado de salud de la aplicaci√≥n.\n\nEndpoint p√∫blico, no requiere autenticaci√≥n."
					},
					"response": []
				},
				{
					"name": "Health Check Base de Datos",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/{{api_version}}/health/database",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"{{api_version}}",
								"health",
								"database"
							]
						},
						"description": "Verifica la conexi√≥n con la base de datos Oracle Cloud.\n\n**Requiere autenticaci√≥n.**"
					},
					"response": []
				}
			],
			"description": "Endpoints para verificar el estado del sistema."
		},
		{
			"name": "3. Pacientes",
			"item": [
				{
					"name": "Listar Todos los Pacientes",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/{{api_version}}/pacientes",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"{{api_version}}",
								"pacientes"
							]
						},
						"description": "Obtiene la lista completa de todos los pacientes registrados en el sistema."
					},
					"response": []
				},
				{
					"name": "Obtener Paciente por ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/{{api_version}}/pacientes/1",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"{{api_version}}",
								"pacientes",
								"1"
							]
						},
						"description": "Obtiene el detalle completo de un paciente espec√≠fico por su ID."
					},
					"response": []
				},
				{
					"name": "Crear Nuevo Paciente",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"nombre\": \"Juan\",\n  \"apellido\": \"P√©rez\",\n  \"rut\": \"12345678-9\",\n  \"fechaNacimiento\": \"1958-05-15\",\n  \"edad\": 68,\n  \"genero\": \"M\",\n  \"sala\": \"UCI\",\n  \"cama\": \"A-01\",\n  \"estado\": \"CR√çTICO\",\n  \"diagnostico\": \"Insuficiencia card√≠aca congestiva\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/{{api_version}}/pacientes",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"{{api_version}}",
								"pacientes"
							]
						},
						"description": "Registra un nuevo paciente en el sistema.\n\n**Campos Requeridos:**\n- nombre: String (2-100 chars)\n- apellido: String (2-100 chars)\n- rut: String (formato: ########-#)\n- fechaNacimiento: Date (formato: YYYY-MM-DD)\n- edad: Integer (0-120)\n- genero: String (M, F, O)\n- sala: String (max 20 chars)\n- cama: String (max 10 chars)\n- estado: String (ESTABLE, MODERADO, CR√çTICO, RECUPERACI√ìN)\n\n**Opcional:**\n- diagnostico: String (max 500 chars)"
					},
					"response": []
				},
				{
					"name": "Actualizar Paciente",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"nombre\": \"Juan\",\n  \"apellido\": \"P√©rez\",\n  \"rut\": \"12345678-9\",\n  \"fechaNacimiento\": \"1958-05-15\",\n  \"edad\": 68,\n  \"genero\": \"M\",\n  \"sala\": \"UCI\",\n  \"cama\": \"A-02\",\n  \"estado\": \"MODERADO\",\n  \"diagnostico\": \"Insuficiencia card√≠aca - mejorando\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/{{api_version}}/pacientes/1",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"{{api_version}}",
								"pacientes",
								"1"
							]
						},
						"description": "Actualiza la informaci√≥n de un paciente existente.\n\n**NOTA:** Actualmente hay un problema con el trigger de Oracle Database que impide la actualizaci√≥n. Se est√° trabajando en la soluci√≥n."
					},
					"response": []
				},
				{
					"name": "Eliminar Paciente",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/{{api_version}}/pacientes/1",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"{{api_version}}",
								"pacientes",
								"1"
							]
						},
						"description": "Elimina (soft delete) un paciente del sistema. El paciente no se elimina f√≠sicamente, solo se marca como inactivo."
					},
					"response": []
				}
			],
			"description": "Endpoints para gesti√≥n de pacientes."
		},
		{
			"name": "4. Signos Vitales",
			"item": [
				{
					"name": "Listar Todos los Signos Vitales",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/{{api_version}}/signos-vitales",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"{{api_version}}",
								"signos-vitales"
							]
						},
						"description": "Obtiene todos los registros de signos vitales del sistema."
					},
					"response": []
				},
				{
					"name": "Obtener Signos Vitales por Paciente",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/{{api_version}}/signos-vitales/paciente/1",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"{{api_version}}",
								"signos-vitales",
								"paciente",
								"1"
							]
						},
						"description": "Obtiene el historial completo de signos vitales de un paciente espec√≠fico."
					},
					"response": []
				},
				{
					"name": "Obtener Signo Vital por ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/{{api_version}}/signos-vitales/1",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"{{api_version}}",
								"signos-vitales",
								"1"
							]
						},
						"description": "Obtiene un registro espec√≠fico de signos vitales por su ID."
					},
					"response": []
				},
				{
					"name": "Registrar Signos Vitales - Normales",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"pacienteId\": 1,\n  \"frecuenciaCardiaca\": 75,\n  \"presionSistolica\": 120,\n  \"presionDiastolica\": 80,\n  \"temperatura\": 36.5,\n  \"saturacionOxigeno\": 98,\n  \"frecuenciaRespiratoria\": 16,\n  \"estadoConciencia\": \"ALERTA\",\n  \"observaciones\": \"Paciente estable, sin novedades\",\n  \"registradoPor\": \"Enfermera Garc√≠a\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/{{api_version}}/signos-vitales",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"{{api_version}}",
								"signos-vitales"
							]
						},
						"description": "Registra signos vitales con valores normales.\n\n**Campos Requeridos:**\n- pacienteId: Long\n- frecuenciaCardiaca: Integer (0-300)\n- presionSistolica: Integer (0-300)\n- presionDiastolica: Integer (0-200)\n- temperatura: BigDecimal (30.0-45.0)\n- saturacionOxigeno: Integer (0-100)\n- frecuenciaRespiratoria: Integer (0-100)\n- estadoConciencia: String (ALERTA, VERBAL, DOLOR, INCONSCIENTE)\n- registradoPor: String (max 100 chars)\n\n**Opcional:**\n- observaciones: String (max 500 chars)"
					},
					"response": []
				},
				{
					"name": "Registrar Signos Vitales - Anormales",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"pacienteId\": 1,\n  \"frecuenciaCardiaca\": 125,\n  \"presionSistolica\": 165,\n  \"presionDiastolica\": 95,\n  \"temperatura\": 38.9,\n  \"saturacionOxigeno\": 88,\n  \"frecuenciaRespiratoria\": 28,\n  \"estadoConciencia\": \"VERBAL\",\n  \"observaciones\": \"Paciente agitado, taquic√°rdico, desaturaci√≥n\",\n  \"registradoPor\": \"Enfermera L√≥pez\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/{{api_version}}/signos-vitales",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"{{api_version}}",
								"signos-vitales"
							]
						},
						"description": "Ejemplo de registro con valores anormales que generar√° alertas cr√≠ticas autom√°ticamente:\n- FC: 125 (>120) ‚Üí CR√çTICA\n- Presi√≥n: 165/95 (>160/90) ‚Üí CR√çTICA  \n- Temperatura: 38.9 (>38.5) ‚Üí CR√çTICA\n- SpO2: 88 (<90) ‚Üí CR√çTICA\n- FR: 28 (>25) ‚Üí CR√çTICA"
					},
					"response": []
				},
				{
					"name": "Actualizar Signos Vitales",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"pacienteId\": 1,\n  \"frecuenciaCardiaca\": 78,\n  \"presionSistolica\": 118,\n  \"presionDiastolica\": 76,\n  \"temperatura\": 36.6,\n  \"saturacionOxigeno\": 97,\n  \"frecuenciaRespiratoria\": 16,\n  \"estadoConciencia\": \"ALERTA\",\n  \"observaciones\": \"Paciente estabilizado\",\n  \"registradoPor\": \"Enfermera Garc√≠a\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/{{api_version}}/signos-vitales/1",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"{{api_version}}",
								"signos-vitales",
								"1"
							]
						},
						"description": "Actualiza un registro existente de signos vitales (correcci√≥n de datos)."
					},
					"response": []
				},
				{
					"name": "Eliminar Signos Vitales",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/{{api_version}}/signos-vitales/1",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"{{api_version}}",
								"signos-vitales",
								"1"
							]
						},
						"description": "Elimina un registro de signos vitales (soft delete)."
					},
					"response": []
				}
			],
			"description": "Endpoints para gesti√≥n de signos vitales."
		},
		{
			"name": "5. Alertas",
			"item": [
				{
					"name": "Listar Todas las Alertas",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/{{api_version}}/alertas",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"{{api_version}}",
								"alertas"
							]
						},
						"description": "Obtiene todas las alertas del sistema (activas y resueltas)."
					},
					"response": []
				},
				{
					"name": "Obtener Alerta por ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/{{api_version}}/alertas/1",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"{{api_version}}",
								"alertas",
								"1"
							]
						},
						"description": "Obtiene el detalle completo de una alerta espec√≠fica."
					},
					"response": []
				},
				{
					"name": "Obtener Alertas por Paciente",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/{{api_version}}/alertas/paciente/1",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"{{api_version}}",
								"alertas",
								"paciente",
								"1"
							]
						},
						"description": "Obtiene todas las alertas de un paciente espec√≠fico."
					},
					"response": []
				},
				{
					"name": "Crear Alerta",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"pacienteId\": 1,\n  \"tipo\": \"ALERTA_MANUAL\",\n  \"mensaje\": \"Paciente reporta dolor abdominal intenso\",\n  \"severidad\": \"MODERADA\",\n  \"observaciones\": \"Solicita evaluaci√≥n m√©dica urgente\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/{{api_version}}/alertas",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"{{api_version}}",
								"alertas"
							]
						},
						"description": "Crea una alerta manual (no generada autom√°ticamente).\n\nSeveridades: BAJA, MODERADA, CR√çTICA"
					},
					"response": []
				},
				{
					"name": "Actualizar Alerta",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"estado\": \"RESUELTA\",\n  \"observaciones\": \"Paciente atendido y estabilizado\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/{{api_version}}/alertas/1",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"{{api_version}}",
								"alertas",
								"1"
							]
						},
						"description": "Actualiza el estado o informaci√≥n de una alerta."
					},
					"response": []
				},
				{
					"name": "Cambiar Estado de Alerta",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"estado\": \"EN_REVISION\",\n  \"observaciones\": \"M√©dico evaluando paciente\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/{{api_version}}/alertas/1/estado",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"{{api_version}}",
								"alertas",
								"1",
								"estado"
							]
						},
						"description": "Cambia el estado de una alerta.\n\nEstados: PENDIENTE, EN_REVISION, RESUELTA"
					},
					"response": []
				},
				{
					"name": "Eliminar Alerta",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/{{api_version}}/alertas/1",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"{{api_version}}",
								"alertas",
								"1"
							]
						},
						"description": "Elimina una alerta del sistema (solo administradores)."
					},
					"response": []
				}
			],
			"description": "Endpoints para gesti√≥n de alertas m√©dicas."
		},
		{
			"name": "6. Dashboard",
			"item": [
				{
					"name": "Obtener Estad√≠sticas",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/{{api_version}}/dashboard/estadisticas",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"{{api_version}}",
								"dashboard",
								"estadisticas"
							]
						},
						"description": "Obtiene estad√≠sticas generales del sistema:\n- Total de pacientes\n- Pacientes cr√≠ticos\n- Alertas activas\n- Alertas cr√≠ticas"
					},
					"response": []
				}
			],
			"description": "Endpoints para dashboard y estad√≠sticas."
		},
		{
			"name": "7. RabbitMQ - Microservicios",
			"item": [
				{
					"name": "Productor 1: Detector de Anomal√≠as",
					"item": [
						{
							"name": "Verificar Signos Vitales - Normales",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"pacienteId\": 1,\n  \"pacienteNombre\": \"Juan P√©rez\",\n  \"sala\": \"UCI\",\n  \"cama\": \"A-01\",\n  \"frecuenciaCardiaca\": 75,\n  \"presionSistolica\": 120,\n  \"presionDiastolica\": 80,\n  \"temperatura\": 36.5,\n  \"saturacionOxigeno\": 98,\n  \"frecuenciaRespiratoria\": 16,\n  \"deviceId\": \"DEVICE-001\"\n}"
								},
								"url": {
									"raw": "http://localhost:8081/api/v1/vital-signs/check",
									"protocol": "http",
									"host": [
										"localhost"
									],
									"port": "8081",
									"path": [
										"api",
										"v1",
										"vital-signs",
										"check"
									]
								},
								"description": "Env√≠a signos vitales normales al detector de anomal√≠as. No generar√° alertas."
							},
							"response": []
						},
						{
							"name": "Verificar Signos Vitales - CR√çTICOS",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"pacienteId\": 1,\n  \"pacienteNombre\": \"Juan P√©rez\",\n  \"sala\": \"UCI\",\n  \"cama\": \"A-01\",\n  \"frecuenciaCardiaca\": 125,\n  \"presionSistolica\": 165,\n  \"presionDiastolica\": 95,\n  \"temperatura\": 38.9,\n  \"saturacionOxigeno\": 88,\n  \"frecuenciaRespiratoria\": 28,\n  \"deviceId\": \"DEVICE-001\"\n}"
								},
								"url": {
									"raw": "http://localhost:8081/api/v1/vital-signs/check",
									"protocol": "http",
									"host": [
										"localhost"
									],
									"port": "8081",
									"path": [
										"api",
										"v1",
										"vital-signs",
										"check"
									]
								},
								"description": "Env√≠a signos vitales cr√≠ticos que generar√°n m√∫ltiples alertas:\n- FC: 125 (cr√≠tico: >120)\n- PS: 165 (cr√≠tico: >160)\n- PD: 95 (cr√≠tico: >90)\n- Temp: 38.9 (cr√≠tico: >38.5)\n- SpO2: 88 (cr√≠tico: <90)\n- FR: 28 (cr√≠tico: >25)\n\nPublicar√° alerta a RabbitMQ."
							},
							"response": []
						},
						{
							"name": "Health Check - Productor 1",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "http://localhost:8081/api/v1/vital-signs/health",
									"protocol": "http",
									"host": [
										"localhost"
									],
									"port": "8081",
									"path": [
										"api",
										"v1",
										"vital-signs",
										"health"
									]
								},
								"description": "Verifica el estado del Productor 1 (Detector de Anomal√≠as)"
							},
							"response": []
						}
					],
					"description": "Endpoints del Productor 1: Detector de Anomal√≠as en Signos Vitales.\n\n**Puerto:** 8081\n**Cola:** vital-signs-alerts"
				},
				{
					"name": "Productor 2: Generador de Res√∫menes",
					"item": [
						{
							"name": "Generar Resumen Manual",
							"request": {
								"method": "POST",
								"header": [],
								"url": {
									"raw": "http://localhost:8082/api/v1/summary/generate",
									"protocol": "http",
									"host": [
										"localhost"
									],
									"port": "8082",
									"path": [
										"api",
										"v1",
										"summary",
										"generate"
									]
								},
								"description": "Genera un resumen manualmente (sin esperar los 5 minutos).\n\nPublica a la cola: vital-signs-summary"
							},
							"response": []
						},
						{
							"name": "Obtener Estad√≠sticas",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "http://localhost:8082/api/v1/summary/stats",
									"protocol": "http",
									"host": [
										"localhost"
									],
									"port": "8082",
									"path": [
										"api",
										"v1",
										"summary",
										"stats"
									]
								},
								"description": "Obtiene estad√≠sticas del generador de res√∫menes:\n- Total de res√∫menes generados\n- √öltima verificaci√≥n"
							},
							"response": []
						},
						{
							"name": "Health Check - Productor 2",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "http://localhost:8082/api/v1/summary/health",
									"protocol": "http",
									"host": [
										"localhost"
									],
									"port": "8082",
									"path": [
										"api",
										"v1",
										"summary",
										"health"
									]
								},
								"description": "Verifica el estado del Productor 2 (Generador de Res√∫menes)"
							},
							"response": []
						}
					],
					"description": "Endpoints del Productor 2: Generador de Res√∫menes Peri√≥dicos.\n\n**Puerto:** 8082\n**Cola:** vital-signs-summary\n**Frecuencia:** Cada 5 minutos (autom√°tico)"
				},
				{
					"name": "RabbitMQ Management",
					"item": [
						{
							"name": "Ver Colas",
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic dml0YWx3YXRjaDpob3NwaXRhbDEyMw==",
										"type": "text"
									}
								],
								"url": {
									"raw": "http://localhost:15672/api/queues",
									"protocol": "http",
									"host": [
										"localhost"
									],
									"port": "15672",
									"path": [
										"api",
										"queues"
									]
								},
								"description": "Lista todas las colas en RabbitMQ.\n\n**Credenciales:**\n- Usuario: vitalwatch\n- Password: hospital123\n\n**Authorization:** Basic dml0YWx3YXRjaDpob3NwaXRhbDEyMw=="
							},
							"response": []
						},
						{
							"name": "Ver Cola: vital-signs-alerts",
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic dml0YWx3YXRjaDpob3NwaXRhbDEyMw==",
										"type": "text"
									}
								],
								"url": {
									"raw": "http://localhost:15672/api/queues/%2F/vital-signs-alerts",
									"protocol": "http",
									"host": [
										"localhost"
									],
									"port": "15672",
									"path": [
										"api",
										"queues",
										"%2F",
										"vital-signs-alerts"
									]
								},
								"description": "Obtiene detalles de la cola vital-signs-alerts:\n- Mensajes en cola\n- Mensajes consumidos\n- Tasa de publicaci√≥n"
							},
							"response": []
						},
						{
							"name": "Ver Cola: vital-signs-summary",
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Basic dml0YWx3YXRjaDpob3NwaXRhbDEyMw==",
										"type": "text"
									}
								],
								"url": {
									"raw": "http://localhost:15672/api/queues/%2F/vital-signs-summary",
									"protocol": "http",
									"host": [
										"localhost"
									],
									"port": "15672",
									"path": [
										"api",
										"queues",
										"%2F",
										"vital-signs-summary"
									]
								},
								"description": "Obtiene detalles de la cola vital-signs-summary"
							},
							"response": []
						}
					],
					"description": "Endpoints del Management API de RabbitMQ.\n\n**URL Web:** http://localhost:15672\n**Usuario:** vitalwatch\n**Password:** hospital123"
				}
			],
			"description": "Endpoints de los microservicios RabbitMQ (Productores y Consumidores).\n\n## Arquitectura\n\n**Productores:**\n1. Detector de Anomal√≠as (Puerto 8081) ‚Üí publica a `vital-signs-alerts`\n2. Generador de Res√∫menes (Puerto 8082) ‚Üí publica a `vital-signs-summary`\n\n**Consumidores:**\n1. DB Saver ‚Üí consume de `vital-signs-alerts` ‚Üí guarda en Oracle\n2. JSON Generator ‚Üí consume de `vital-signs-alerts` ‚Üí genera archivos JSON\n\n**RabbitMQ:**\n- Puerto AMQP: 5672\n- Puerto Management: 15672\n- Usuario: vitalwatch\n- Password: hospital123"
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					"// Script pre-request global",
					"// Verifica si hay token disponible",
					"const token = pm.environment.get(\"token\");",
					"if (!token && pm.request.url.path.indexOf('login') === -1) {",
					"    console.log(\"‚ö†Ô∏è No hay token. Por favor ejecuta el endpoint de Login primero.\");",
					"}"
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					"// Tests globales para todas las peticiones",
					"",
					"// Verificar que la respuesta tenga estructura correcta",
					"pm.test(\"Response has correct structure\", function () {",
					"    var jsonData = pm.response.json();",
					"    pm.expect(jsonData).to.have.property('traceId');",
					"    pm.expect(jsonData).to.have.property('code');",
					"    pm.expect(jsonData).to.have.property('message');",
					"});",
					"",
					"// Verificar tiempo de respuesta",
					"pm.test(\"Response time is less than 2000ms\", function () {",
					"    pm.expect(pm.response.responseTime).to.be.below(2000);",
					"});",
					"",
					"// Log de informaci√≥n √∫til",
					"console.log(\"üìä Status:\", pm.response.code);",
					"console.log(\"‚è±Ô∏è Time:\", pm.response.responseTime + \"ms\");",
					"console.log(\"üìù Message:\", pm.response.json().message);"
				]
			}
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "https://vitalwatch-backend.graycoast-fc35a2d0.southcentralus.azurecontainerapps.io",
			"type": "string"
		},
		{
			"key": "api_version",
			"value": "v1",
			"type": "string"
		},
		{
			"key": "token",
			"value": "",
			"type": "string"
		},
		{
			"key": "user_id",
			"value": "",
			"type": "string"
		},
		{
			"key": "user_nombre",
			"value": "",
			"type": "string"
		},
		{
			"key": "user_rol",
			"value": "",
			"type": "string"
		}
	]
}
